#!/usr/bin/env python
# -*- coding: utf-8 -*-

from TestMaker.core import TestMaker
from optparse import OptionParser
import os

parser = OptionParser()
parser.add_option('-c', "--config", dest="cfg_file", help="configuration file")
(options, args) = parser.parse_args()

if options.cfg_file:
    tm = TestMaker(options.cfg_file)
    tm.load_questions()
    tm.create_all_versions()
    os.system("cp output/key.txt versions")
    os.system("cp output/*.json versions")
    tm.render_all_versions()
    os.system("cp output/*.pdf archive")
else:
    print "--config is a required option"
    sys.exit()

